# Rin Stock Manager

レストラン在庫管理システム - 効率的な在庫追跡、注文管理、分析機能を提供するPythonアプリケーション

## 🚀 主要機能（計画🥲）

- **📦 在庫管理**: 材料、カテゴリ、レシピの追跡
- **🛒 注文処理**: 下書き、アクティブ、完了状態での注文処理
- **📊 分析**: 日次サマリーとビジネス洞察
- **🍽️ メニュー管理**: メニュー項目とカテゴリの整理
- **💾 オフラインサポート**: オフライン時の操作キューイング、再接続時の同期（まだ未完成）
- **🔒 データセキュリティ**: 適切な認証によるユーザー分離データ（これも😢）

## 🛠️ 技術スタック

- **バックエンド**: データ永続化にSupabase（PostgreSQL）
- **フロントエンド**: デスクトップUI用Fletフレームワーク
- **言語**: Python 3.12+
- **依存関係**: 依存関係管理用Poetry

## ⚡ クイックスタート

### 前提条件

- Python 3.12以上
- Poetryパッケージマネージャー
- Supabaseアカウントとプロジェクト

### インストール

```bash
# 1. リポジトリをクローン
git clone <repository-url>
cd rin-stock-manager

# 2. 依存関係をインストール
poetry install
poetry shell

# 3. 環境を設定
cp .env.example .env
# .envファイルをSupabase認証情報で編集

# 4. テストを実行
pytest
```

詳細なセットアップ手順については、[セットアップガイド](./docs/setup.md)を参照してください。

## 📚 ドキュメント

| ドキュメント | 説明 |
|----------|-------------|
| [セットアップガイド](./docs/setup.md) | インストールと設定手順 |
| [アーキテクチャガイド](./docs/architecture.md) | システム設計詳細 |
| [APIリファレンス](./docs/api-reference.md) | リポジトリ/サービスAPIドキュメント |
| [開発ガイド](./docs/development.md) | 開発ワークフローと貢献ガイドライン |

## 🏗️ プロジェクト状況

### ✅ 完了
- 完全なCRUD操作を持つリポジトリ層
- AND/ORロジックを持つ高度なフィルタリングシステム
- すべてのドメインリポジトリ（在庫、メニュー、注文、ストック、分析）
- 包括的な機能を持つビジネスサービス層
- モデル定義と検証
- 設定管理

### 🚧 進行中
- FletによるUI開発
- オフライン機能統合
- 包括的なテストスイート

### 📋 計画中
- ビジネスサービスAPIドキュメント
- デプロイガイド
- パフォーマンス最適化

## 🏛️ システム構造

システムは階層モジュールで構成されています：

```
┌─────────────────────────────────────────┐
│              UI層 (Flet)               │  ← ユーザーインターフェース
├─────────────────────────────────────────┤
│           サービス層                     │  ← ビジネスロジック
├─────────────────────────────────────────┤
│         リポジトリ層                     │  ← データアクセス
├─────────────────────────────────────────┤
│           モデル層                       │  ← データモデル
├─────────────────────────────────────────┤
│     インフラストラクチャ (Supabase)      │  ← データベース
└─────────────────────────────────────────┘
```

### 実装詳細

- **リポジトリ層**: 高度なフィルタリングを持つ汎用CRUD操作
- **ビジネスサービス**: 分析、在庫、メニュー、注文管理
- **フィルタリングシステム**: 複雑なAND/ORクエリのサポート
- **オフラインサポート**: 接続問題に対するFileQueue + ReconnectWatcher
- **設定**: Pydanticベースの環境設定

## 🔧 開発

### 基本コマンド

```bash
# 環境セットアップ
poetry install && poetry shell

# テスト
pytest                     # すべてのテストを実行
pytest --cov=src          # カバレッジ付きで実行
pytest -v                 # 詳細出力

# コード品質（計画中）
black src/ tests/          # コードフォーマット
isort src/ tests/          # インポート整理
flake8 src/ tests/         # リンティング
mypy src/                  # 型チェック
```

### 貢献

1. リポジトリをフォーク
2. 機能ブランチを作成
3. 変更を加える
4. 新機能にテストを追加
5. ドキュメントを更新
6. プルリクエストを提出

詳細な手順については[開発ガイド](./docs/development.md)を参照してください。

## 📄 ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE.md](LICENSE.md)ファイルを参照してください。

## 🆘 サポート

質問や問題がある場合は、リポジトリにissueを作成してください。